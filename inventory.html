<!doctype html>
<html>
<head>
  <meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Goldet â€” Inventory</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
<script src="firebase.js"></script>

<div class="dashboard-page">
  <nav class="sidebar"><div class="logo">Goldet</div></nav>
  <main class="main-area">
    <div class="top-userbar"><div class="user-card"><h2>Your Inventory</h2></div></div>
    <section class="stats-box">
      <div id="inventoryContainer"></div>
    </section>
  </main>
</div>

<script>
document.addEventListener('GoldetDBReady', ()=> {
  const db = GoldetDB.db; const current = GoldetDB.sessionGet();
  if(!current) { window.location.href='login.html'; return; }
  const userRef = db.ref('users/' + current);

  userRef.on('value', snap => {
    const d = snap.val() || {};
    const count = d.goldsUnlocked || 0;
    const container = document.getElementById('inventoryContainer');
    container.innerHTML = '';
    for(let i=1;i<=count;i++){
      const div = document.createElement('div');
      div.className = 'card';
      div.textContent = 'Gold #' + i;
      container.appendChild(div);
    }
    if(count===0) container.innerHTML = '<p style="color:#7a6534">No golds unlocked yet.</p>';
  });
});
</script>
</body>
</html>
